@page
@model PresentationLayer.Pages.DealerManager.Staff.CreateModel
@{
	Layout = "/Pages/Shared/_DashboardLayout.cshtml";
	ViewData["Title"] = "Tạo Dealer Staff";
}

<div class="container-fluid">
	<!-- Header -->
	<div class="mb-4">
		<nav aria-label="breadcrumb" class="mb-3">
			<ol class="breadcrumb">
				<li class="breadcrumb-item"><a asp-page="/DealerManager/Index">Dashboard</a></li>
				<li class="breadcrumb-item"><a asp-page="/DealerManager/Users/Index">Nhân viên</a></li>
				<li class="breadcrumb-item active">Tạo Dealer Staff</li>
			</ol>
		</nav>
		<h3 class="fw-bold"><i class="fas fa-user-plus me-2 text-primary"></i>Tạo tài khoản Dealer Staff</h3>
		<p class="text-muted">Thêm nhân viên mới vào đại lý của bạn</p>
	</div>

	<div class="row justify-content-center">
		<div class="col-lg-8">
			<!-- Info Alert -->
			<div class="alert alert-info border-0 shadow-sm mb-4">
				<div class="d-flex align-items-start">
					<i class="fas fa-info-circle fs-4 me-3 mt-1"></i>
					<div>
						<h6 class="alert-heading mb-2">Thông tin quan trọng</h6>
						<ul class="mb-0 small">
							<li>Nhân viên sẽ được tạo với vai trò <strong>Dealer Staff</strong></li>
							<li>Tài khoản thuộc đại lý: <strong class="text-primary">@Model.DealerName</strong></li>
							<li>Mật khẩu mặc định sẽ được gửi qua email sau khi tạo</li>
							<li>Nhân viên có thể đổi mật khẩu sau lần đăng nhập đầu tiên</li>
						</ul>
					</div>
				</div>
			</div>

			<!-- Form Card -->
			<div class="card border-0 shadow-sm">
				<div class="card-header bg-white border-0 py-3">
					<h5 class="mb-0"><i class="fas fa-edit me-2"></i>Thông tin nhân viên</h5>
				</div>
				<div class="card-body p-4">
					<form method="post" class="needs-validation" novalidate>
						<div asp-validation-summary="ModelOnly" class="alert alert-danger border-0 shadow-sm mb-4"></div>
						
						<!-- Personal Info Section -->
						<div class="mb-4">
							<h6 class="text-muted mb-3 pb-2 border-bottom">
								<i class="fas fa-user me-2"></i>Thông tin cá nhân
							</h6>
							<div class="row g-3">
								<div class="col-md-6">
									<label asp-for="Input.FullName" class="form-label fw-semibold">
										Họ và tên <span class="text-danger">*</span>
									</label>
									<div class="input-group">
										<span class="input-group-text bg-light border-end-0">
											<i class="fas fa-user text-muted"></i>
										</span>
										<input asp-for="Input.FullName" class="form-control border-start-0 ps-0" 
											   placeholder="Nguyễn Văn A" required />
									</div>
									<span asp-validation-for="Input.FullName" class="text-danger small"></span>
								</div>
								<div class="col-md-6">
									<label asp-for="Input.PhoneNumber" class="form-label fw-semibold">
										Số điện thoại <span class="text-danger">*</span>
									</label>
									<div class="input-group">
										<span class="input-group-text bg-light border-end-0">
											<i class="fas fa-phone text-muted"></i>
										</span>
										<input asp-for="Input.PhoneNumber" class="form-control border-start-0 ps-0" 
											   placeholder="0912345678" required />
									</div>
									<span asp-validation-for="Input.PhoneNumber" class="text-danger small"></span>
								</div>
							</div>
						</div>

						<!-- Account Info Section -->
						<div class="mb-4">
							<h6 class="text-muted mb-3 pb-2 border-bottom">
								<i class="fas fa-key me-2"></i>Thông tin tài khoản
							</h6>
							<div class="row g-3">
								<div class="col-md-12">
									<label asp-for="Input.Email" class="form-label fw-semibold">
										Email đăng nhập <span class="text-danger">*</span>
									</label>
									<div class="input-group">
										<span class="input-group-text bg-light border-end-0">
											<i class="fas fa-envelope text-muted"></i>
										</span>
										<input asp-for="Input.Email" class="form-control border-start-0 ps-0" 
											   type="email" placeholder="staff@dealer.com" required />
									</div>
									<span asp-validation-for="Input.Email" class="text-danger small"></span>
									<div class="form-text">
										<i class="fas fa-info-circle me-1"></i>Email sẽ dùng để đăng nhập vào hệ thống
									</div>
								</div>
							</div>
						</div>

						<!-- Dealer Info Section -->
						<div class="mb-4">
							<h6 class="text-muted mb-3 pb-2 border-bottom">
								<i class="fas fa-store me-2"></i>Thông tin đại lý
							</h6>
							<div class="row g-3">
								<div class="col-md-6">
									<label class="form-label fw-semibold">Đại lý</label>
									<div class="input-group">
										<span class="input-group-text bg-light border-end-0">
											<i class="fas fa-building text-muted"></i>
										</span>
										<input type="text" class="form-control border-start-0 ps-0 bg-light" 
											   value="@Model.DealerName" disabled />
									</div>
								</div>
								<div class="col-md-6">
									<label class="form-label fw-semibold">Vai trò</label>
									<div class="input-group">
										<span class="input-group-text bg-light border-end-0">
											<i class="fas fa-user-tag text-muted"></i>
										</span>
										<input type="text" class="form-control border-start-0 ps-0 bg-light" 
											   value="Dealer Staff" disabled />
									</div>
								</div>
							</div>
						</div>

						<!-- Actions -->
						<div class="d-flex gap-2 justify-content-end pt-3 border-top">
							<a asp-page="/DealerManager/Users/Index" class="btn btn-lg btn-outline-secondary">
								<i class="fas fa-times me-1"></i>Hủy
							</a>
							<button type="submit" class="btn btn-lg btn-primary">
								<i class="fas fa-save me-1"></i>Tạo tài khoản
							</button>
						</div>
					</form>
				</div>
			</div>

			<!-- Help Card -->
			<div class="card border-0 shadow-sm mt-3">
				<div class="card-body">
					<h6 class="fw-semibold mb-3"><i class="fas fa-question-circle me-2 text-info"></i>Cần trợ giúp?</h6>
					<div class="row g-3">
						<div class="col-md-6">
							<div class="d-flex">
								<i class="fas fa-shield-alt text-primary me-2 mt-1"></i>
								<div>
									<div class="fw-semibold small">Mật khẩu mặc định</div>
									<small class="text-muted">Hệ thống tự động tạo và gửi qua email</small>
								</div>
							</div>
						</div>
						<div class="col-md-6">
							<div class="d-flex">
								<i class="fas fa-user-check text-success me-2 mt-1"></i>
								<div>
									<div class="fw-semibold small">Quyền truy cập</div>
									<small class="text-muted">Dealer Staff có thể quản lý đơn hàng, khách hàng</small>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<style>
	.input-group-text {
		min-width: 45px;
		justify-content: center;
	}
	
	.form-control:disabled, .form-control.bg-light {
		background-color: #f8f9fa !important;
	}
</style>
